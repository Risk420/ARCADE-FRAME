<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Arcade Studio</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gif.js/0.2.0/gif.js"></script>

<style>
  /* --- GLOBAL SETTINGS --- */
  html { scroll-behavior: smooth; overflow-y: auto; }
  body {
    background: #0a0a0c; color: white; font-family: sans-serif;
    display: flex; flex-direction: column; align-items: center;
    min-height: 100vh; margin: 0; padding-bottom: 150px; 
    -webkit-overflow-scrolling: touch; 
    background-image: linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px);
    background-size: 100% 4px; touch-action: pan-y; 
  }

  /* --- CUSTOM SCROLLBAR --- */
  ::-webkit-scrollbar { width: 12px; }
  ::-webkit-scrollbar-track { background: #0a0a0c; border-left: 1px solid #333; }
  ::-webkit-scrollbar-thumb { background: #333; border-radius: 6px; border: 2px solid #0a0a0c; }
  ::-webkit-scrollbar-thumb:hover { background: #00ffff; }

  /* --- NAVIGATION --- */
  .menu-toggle { 
    position: fixed; top: 15px; left: 15px; 
    background: #1a1a1c; color: #fff; border: 1px solid rgba(255,255,255,0.1); 
    padding: 8px 12px; border-radius: 4px; font-weight: bold; cursor: pointer; 
    z-index: 100000; font-size: 12px; box-shadow: 0 2px 5px rgba(0,0,0,0.5); 
  }

  #view-toggle {
    position: fixed; top: 15px; right: 15px; 
    background: #1a1a1c; color: #fff; border: 1px solid #00ffff; 
    padding: 8px 12px; border-radius: 4px; font-weight: bold; cursor: pointer; 
    z-index: 100000; font-size: 16px; box-shadow: 0 0 10px rgba(0,255,255,0.2);
  }

  #menu-panel { 
    position: fixed; top: 0; left: -260px; width: 240px; height: 100%; 
    background: #1a1a1c; padding-top: 60px; transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1); 
    z-index: 99999; display: flex; flex-direction: column; gap: 15px; 
    padding-left: 15px; padding-right: 15px; box-sizing: border-box; padding-bottom: 80px; 
  }
  #menu-panel.open { left: 0; }

  .switch-container { position: relative; width: 100%; }
  #switch-btn { 
    background: rgba(255,255,255,0.05); color: white; border: 2px solid #ff0000; 
    padding: 10px; border-radius: 4px; font-weight: bold; cursor: pointer; 
    font-size: 11px; text-transform: uppercase; width: 100%; text-align: center;
    box-shadow: 0 0 10px rgba(255,0,0,0.5); 
  }
  #switch-menu { 
    position: absolute; top: 45px; right: 0; background: #1a1a1c; 
    border: 1px solid #ff0000; border-radius: 8px; width: 210px; 
    display: none; flex-direction: column; overflow: hidden; 
    box-shadow: 0 10px 20px rgba(0,0,0,0.8); z-index: 100001;
  }
  #switch-menu button { 
    background: transparent; color: #aaa; border: none; padding: 14px; 
    text-align: left; font-weight: bold; font-size: 11px; cursor: pointer; 
    border-bottom: 1px solid rgba(255,255,255,0.05); text-transform: uppercase;
  }
  #switch-menu button.active-link { color: #00ffff; background: rgba(0,255,255,0.1); border-left: 3px solid #00ffff; }

  .designed-by { position: absolute; bottom: 0; left: 0; width: 100%; padding: 20px 0; border-top: 1px solid rgba(255,255,255,0.1); text-align: center; font-size: 11px; font-weight: 900; color: #888; background: #1a1a1c; }
  .designed-by b { color: #ff0000; text-shadow: 0 0 8px rgba(255,0,0,0.6); }

  .music-section { border: 1px solid rgba(255,255,255,0.1); background: rgba(255,255,255,0.03); border-radius: 6px; padding: 10px; display: flex; flex-direction: column; gap: 8px; }
  .menu-lbl { font-size: 10px; font-weight: 900; color: #00ffff; text-transform: uppercase; margin-bottom: 5px; }
  .lnk { display: flex; align-items: center; gap: 10px; padding: 12px; text-decoration: none; color: white; font-size: 13px; font-weight: bold; border-radius: 4px; border: 1px solid rgba(255,255,255,0.1); background: rgba(255,255,255,0.05); }
  .lnk svg { width: 18px; height: 18px; fill: white; }

  /* HEADERS */
  h1 { color: #fff; margin: 60px 0 0 0; font-family: "Arial Black", sans-serif; font-style: italic; font-size: 36px; text-transform: uppercase; letter-spacing: -1px; text-shadow: 2px 2px 0px #ff0000, -1px -1px 10px rgba(255, 0, 0, 0.8); animation: arcadeBounce 1.8s infinite ease-in-out; }
  @keyframes arcadeBounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
  .sub { color: #fff; font-weight: bold; margin: 2px 0 15px 0; text-transform: uppercase; font-size: 11px; letter-spacing: 2px; text-align: center; }
  
  /* --- LAYOUT LOGIC --- */
  .studio-sec { display: none; width: 320px; flex-direction: column; align-items: center; }
  .active-sec { display: flex; }

  /* --- PC MODE STYLES --- */
  body.pc-mode { justify-content: flex-start; padding-top: 40px; }
  
  body.pc-mode .studio-sec { 
    width: 90%; max-width: 1100px; 
    flex-direction: row; align-items: flex-start; 
    justify-content: center; gap: 60px; 
  }

  body.pc-mode #frame-studio, body.pc-mode #gif-studio { align-items: center; }
  body.pc-mode .ui, body.pc-mode .ui-gif { width: 350px; margin-top: 0; }

  body.pc-mode #font-results { 
    display: grid; grid-template-columns: repeat(3, 1fr); 
    gap: 15px; max-height: 70vh; 
    overflow-y: scroll; padding-right: 10px;
  }
  body.pc-mode .font-input { width: 50%; }
  body.pc-mode #sym-container { max-height: 70vh; overflow-y: scroll; padding-right: 10px; width: 100%; }

  /* --- ğŸ–¼ï¸ FRAME STUDIO CSS --- */
  @keyframes neonPulse {
    0% { box-shadow: 0 0 20px #ff0000, inset 0 0 10px #ff0000; border-color: #ff0000; }
    50% { box-shadow: 0 0 35px #ff0000, inset 0 0 20px #ff0000; border-color: #ff3333; }
    100% { box-shadow: 0 0 20px #ff0000, inset 0 0 10px #ff0000; border-color: #ff0000; }
  }

  #box { 
    position: relative; width: 310px; height: 310px; border-radius: 50%; overflow: hidden; 
    border: 3px solid #ff0000; box-sizing: border-box; 
    background-image: linear-gradient(45deg, #1a1a1c 25%, transparent 25%), linear-gradient(-45deg, #1a1a1c 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #1a1a1c 75%), linear-gradient(-45deg, transparent 75%, #1a1a1c 75%);
    background-color: transparent; background-size: 20px 20px;
    animation: neonPulse 2s infinite ease-in-out;
    z-index: 10; 
  }
  canvas#c { position: absolute; top: 50%; left: 50%; width: 310px; height: 310px; transform: translate(-50%, -50%); z-index: 15; touch-action: none; }
  .ui { margin-top: 20px; width: 310px; display: flex; flex-direction: column; gap: 6px; }
  .btn { background: #111; border: 2px solid #ffffff; color: white; padding: 10px; text-align: center; border-radius: 8px; font-weight: bold; font-size: 12px; cursor: pointer; text-transform: uppercase; width: 100%; box-sizing: border-box; }
  .btn:disabled { opacity: 0.3; cursor: not-allowed; }
  .lbl { font-size: 9px; color: #888; text-transform: uppercase; margin-top: 2px; display: flex; justify-content: space-between; align-items: center; width: 100%; }
  .val-tag { color: #ff0000; font-weight: bold; font-family: monospace; font-size: 10px; }
  
  /* --- âœï¸ FONT STUDIO CSS --- */
  .font-input { width: 100%; background: #111; border: 2px solid #00ffff; color: #fff; padding: 15px; border-radius: 8px; font-weight: bold; text-align: center; margin-bottom: 15px; font-size: 16px; outline: none; box-sizing: border-box; }
  .font-scroll { width: 100%; max-height: 500px; overflow-y: auto; display: flex; flex-direction: column; border-radius: 8px; border: 1px solid rgba(255,255,255,0.1); box-sizing: border-box; }
  .font-item { background: #1a1a1c; border-bottom: 1px solid rgba(255,255,255,0.1); padding: 16px; width: 100%; text-align: center; cursor: pointer; color: #eee; font-size: 16px; white-space: pre-wrap; }
  
  /* --- âœ¨ SYMBOLS STUDIO CSS --- */
  .sym-box-container { width: 100%; margin-bottom: 15px; }
  .sym-input { width: 100%; background: #000; border: 1px solid #00ffff; color: #00ffff; padding: 12px; font-size: 18px; border-radius: 6px; text-align: center; box-sizing: border-box; outline: none; }
  .cat-title { width: 100%; color: #ff0000; font-size: 12px; font-weight: bold; margin: 20px 0 5px 0; text-transform: uppercase; padding-left: 5px; border-bottom: 1px solid rgba(255,0,0,0.2); padding-bottom: 5px; }
  .sym-grid { display: flex; flex-wrap: wrap; gap: 5px; width: 100%; padding: 5px; box-sizing: border-box; }
  .sym-btn { background: #1a1a1c; border: 1px solid #333; color: white; padding: 15px 0; font-size: 20px; border-radius: 6px; cursor: pointer; text-align: center; flex: 1 0 18%; }

  /* --- âš¡ GIF STUDIO CSS --- */
  .stage { position: relative; width: 320px; height: 320px; display: flex; align-items: center; justify-content: center; margin-bottom: 30px; }
  .led-ring { position: absolute; inset: -15px; border-radius: 50%; background: conic-gradient(from 0deg, #00f3ff, #bc13fe, #ff0055, #00f3ff); animation: rotate 1.0s linear infinite; filter: blur(20px); z-index: 1; }
  @keyframes rotate { 100% { transform: rotate(360deg); } }
  .viewport { position: relative; z-index: 5; width: 100%; height: 100%; border-radius: 50%; overflow: hidden; background-color: #000; display: flex; justify-content: center; align-items: center; box-shadow: inset 0 0 20px #000; }
  #v { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); pointer-events: none; will-change: transform; }
  #o { width: 100%; height: 100%; object-fit: contain; display: none; }
  .ui-gif { background: rgba(10, 10, 10, 0.9); padding: 25px; border-radius: 30px; width: 340px; border: 1px solid rgba(255,255,255,0.1); display: flex; flex-direction: column; align-items: center; }
  .btn-upload { background: linear-gradient(90deg, #00f3ff, #bc13fe); color: #000; border: none; padding: 15px; border-radius: 50px; font-weight: 800; cursor: pointer; width: 100%; margin-bottom: 25px; font-size: 14px; }
  .btn-inner { position: relative; display: block; text-decoration: none; text-align: center; color: white; background: #000; padding: 12px 30px; border-radius: 48px; font-weight: 900; font-size: 14px; z-index: 1; cursor: pointer; border: none; width: 100%; box-sizing: border-box; }
  .btn-inner:disabled { opacity: 0.3; color: #555; }
  
  input[type=range] { -webkit-appearance: none; width: 100%; background: transparent; margin: 10px 0; }
  input[type=range]::-webkit-slider-runnable-track { height: 8px; background: linear-gradient(to right, #ff0000 var(--v, 0%), #00ffff var(--v, 0%)); border-radius: 4px; }
  input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; height: 20px; width: 20px; border-radius: 50%; background: #ff0000; margin-top: -6px; border: 2px solid #fff; }

  .status { margin-top: 20px; font-size: 14px; text-align: center; color: #00f3ff; font-weight: 600; opacity: 0; }
  .status.active { opacity: 1; }
  .neon-wrap { position: relative; width: 100%; margin-top: 15px; padding: 3px; border-radius: 50px; overflow: hidden; }
  .neon-wrap.blue::before { content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: conic-gradient(transparent, transparent, #00f3ff, #bc13fe, #ff0055, #00f3ff, transparent, transparent); animation: rotate 4.0s linear infinite; z-index: 0; }
  
  input[type=file], #yt-player { display: none; }
</style>
</head>
<body onclick="startAudio()">

<button class="menu-toggle" onclick="toggleMenu(event)">MENU â˜°</button>
<button id="view-toggle" onclick="toggleViewMode()">ğŸ–¥ï¸</button>

<div id="menu-panel">
  <div class="switch-container">
    <button id="switch-btn" onclick="toggleSwitchMenu(event)">SWITCH TO ğŸ“‚</button>
    <div id="switch-menu">
      <button id="nav-frame" class="active-link" onclick="changeStudio('frame')">ğŸ–¼ï¸ Frame Studio</button>
      <button id="nav-font" onclick="changeStudio('font')">âœï¸ Font Generator</button>
      <button id="nav-gif" onclick="changeStudio('gif')">âš¡ GIF Maker</button>
      <button id="nav-sym" onclick="changeStudio('sym')">âœ¨ Symbols Studio</button>
    </div>
  </div>

  <div class="music-section">
    <div class="music-btn" style="display:flex; justify-content:space-between; font-size:12px; font-weight:bold; cursor:pointer;" onclick="toggleMusic()">
      <span>MUSIC PLAYER</span> <span id="m-status" style="color:#ff0000;">ON</span>
    </div>
    <select class="station-select" style="width:100%; margin-top:5px;" onchange="changeMusic(this.value)">
      <option value="jfKfPfyJRdk" selected>â˜• Lofi Focus</option>
      <option value="nv_2rz5BFDA">ğŸ•¹ï¸ Retro Wave</option>
    </select>
  </div>

  <div class="music-section">
    <div class="menu-lbl">Sounds effect</div>
    <select id="sfx-select" style="width:100%; background:#222; color:white; border:1px solid #444;" onchange="playClick()">
      <option value="bit">ğŸ‘¾ 8-Bit Tone</option>
      <option value="arcade" selected>ğŸ•¹ï¸ Arcade Click</option>
      <option value="bubble">ğŸ«§ Soft Pop</option>
      <option value="switch">âŒ¨ï¸ Quiet Switch</option>
    </select>
  </div>
  
  <div class="designed-by">DESIGNED BY <b>RISK</b></div>
</div>

<div id="yt-player"></div>

<h1 id="studio-name">ARCADE</h1>
<p class="sub" id="studio-sub">FRAME STUDIO</p>

<div id="frame-studio" class="studio-sec active-sec">
  <div id="box"><canvas id="c" width="800" height="800"></canvas></div>
  <div class="ui">
    <label class="btn" onclick="playClick()">CHOOSE IMAGE<input type="file" id="u1" accept="image/*" onchange="handleFile(event)" style="display:none"></label>
    <label class="btn" onclick="playClick()">APPLY FRAME<input type="file" id="u2" accept="image/*" onchange="handleFrame(event)" style="display:none"></label>
    <button class="btn" style="border-color:#00ffff; color:#00ffff;" onclick="centerSubject()">CENTER SUBJECT ğŸ¯</button>
    <button class="btn" style="border-color:#ff0000; color:#ff0000;" onclick="resetProject()">RESET PROJECT â†»</button>
    <div class="lbl">ZOOM <span id="z-val" class="val-tag">100%</span></div>
    <input type="range" id="z" min="0.1" max="4" step="0.01" value="1" oninput="updateZ(this.value)">
    <div class="lbl">ROTATE <span id="r-val" class="val-tag">0Â°</span></div>
    <input type="range" id="r" min="0" max="360" step="1" value="0" oninput="updateR(this.value)">
    <div class="lbl">CIRCLE SIZE <span id="m-val" class="val-tag">375px</span></div>
    <input type="range" id="m" min="300" max="400" step="1" value="375" oninput="updateM(this.value)">
    <button id="save" class="btn" onclick="downloadPic()" disabled>DOWNLOAD PICTURE</button>
  </div>
</div>

<div id="font-studio" class="studio-sec">
  <input type="text" id="font-input" class="font-input" placeholder="Type text here..." oninput="genFonts()">
  <div class="lbl">TAP TO COPY</div>
  <div id="font-results" class="font-scroll"></div>
</div>

<div id="gif-studio" class="studio-sec">
    <div class="stage" id="stage"><div class="led-ring"></div><div class="viewport" id="vp"><video id="v" muted playsinline loop></video><img id="o"></div></div>
    <div class="ui-gif">
        <button class="btn-upload" id="upBtn" onclick="document.getElementById('gfInput').click()">UPLOAD VIDEO</button>
        <input type="file" id="gfInput" accept="video/*" style="display:none">
        <div class="label-row"><span>ZOOM</span><span id="zv">100%</span></div>
        <input type="range" id="zoom" min="100" max="300" step="1" value="100">
        <div class="label-row"><span>SPEED</span><span id="sv">1.0x</span></div>
        <input type="range" id="speed" min="0.5" max="3.0" step="0.1" value="1.0">
        <div class="neon-wrap blue"><button id="go" class="btn-inner" disabled>âš¡ CREATE HD GIF</button></div>
        <div id="msg" class="status">Processing (20s)...</div>
        <div id="dlBox" class="neon-wrap blue" style="display:none; margin-top:10px;"><a id="dl" class="btn-inner">â¬‡ï¸ DOWNLOAD GIF</a></div>
    </div>
</div>

<div id="sym-studio" class="studio-sec">
    <input type="text" id="sym-box" class="sym-input" placeholder="Tapped symbols appear here...">
    <div id="sym-container" class="font-scroll"></div>
</div>

<script src="https://www.youtube.com/iframe_api"></script>
<script>
const c=document.getElementById('c'),x=c.getContext('2d'),zSl=document.getElementById('z'),rSl=document.getElementById('r'),mSl=document.getElementById('m'),panel=document.getElementById('menu-panel'),mStat=document.getElementById('m-status'), sName=document.getElementById('studio-name'), sSub=document.getElementById('studio-sub'), swMenu=document.getElementById('switch-menu');
const zVal=document.getElementById('z-val'),rVal=document.getElementById('r-val'),mVal=document.getElementById('m-val');
let i=new Image(),f=new Image(),cfg={s:1,m:375,x:400,y:400,r:0},player,musicOn=true,audioStarted=false;
const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

window.onclick = e => {
  initAudio();
  if (panel.classList.contains('open') && !panel.contains(e.target) && !e.target.classList.contains('menu-toggle')) panel.classList.remove('open');
  if (swMenu.style.display === 'flex' && !document.querySelector('.switch-container').contains(e.target)) swMenu.style.display = 'none';
};

function toggleMenu(e) { e.stopPropagation(); playClick(); panel.classList.toggle('open'); }
function toggleSwitchMenu(e) { e.stopPropagation(); playClick(); swMenu.style.display = swMenu.style.display === 'flex' ? 'none' : 'flex'; }

function changeStudio(mode) {
  playClick(); document.querySelectorAll('.studio-sec').forEach(s => s.classList.remove('active-sec'));
  swMenu.style.display = 'none'; panel.classList.remove('open');
  document.getElementById(mode + '-studio').classList.add('active-sec');
  sName.innerText = (mode === 'frame' ? "ARCADE" : mode.toUpperCase()); 
  sSub.innerText = mode.toUpperCase() + " STUDIO";
}

// --- âœï¸ 38 FONTS RESTORED ---
const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
const alphas = [
  {m:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"},
  {m:"ğ€ğğ‚ğƒğ„ğ…ğ†ğ‡ğˆğ‰ğŠğ‹ğŒğğğğğ‘ğ’ğ“ğ”ğ•ğ–ğ—ğ˜ğ™ğšğ›ğœğğğŸğ ğ¡ğ¢ğ£ğ¤ğ¥ğ¦ğ§ğ¨ğ©ğªğ«ğ¬ğ­ğ®ğ¯ğ°ğ±ğ²ğ³ğŸğŸğŸğŸ‘ğŸ’ğŸ“ğŸ”ğŸ•ğŸ–ğŸ—"},
  {m:"ğ´ğµğ¶ğ·ğ¸ğ¹ğºğ»ğ¼ğ½ï¼«ï¼¬ï¼­ğ‘ğ‘‚ğ‘ƒğ‘„ğ‘…ğ‘†ğ‘‡ğ‘ˆğ‘‰ğ‘Šğ‘‹ğ‘Œğ‘ğ‘ğ‘ï½ƒï½„ï½…ğ‘“ï½‡â„ï½‰ğ‘—ğ‘˜ï½Œï½ï½ï½ï½ğ‘ğ‘Ÿğ‘ ğ‘¡ğ‘¢ğ‘£ğ‘¤ğ‘¥ï½™ï½š0123456789"},
  {m:"ğ‘¨ğ‘©ğ‘ªğ‘«ğ‘¬ğ‘­ğ‘®ğ‘¯ğ‘°ğ‘±ğ‘²ğ‘³ğ‘´ğ‘µğ‘¶ğ‘·ğ‘¸ğ‘¹ğ‘ºğ‘»ğ‘¼ğ‘½ğ‘¾ğ‘¿ğ’€ğ’ğ’‚ğ’ƒğ’„ğ’…ğ’†ğ’‡ğ’ˆğ’‰ğ’Šğ’‹ğ’Œğ’ğ’ğ’ğ’ğ’‘ğ’’ğ’“ğ’”ğ’•ğ’–ğ’—ğ’˜ğ’™ğ’šğ’›0123456789"},
  {m:"ğ’œâ„¬ğ’ğ’Ÿâ„°â„±ğ’¢â„‹â„ğ’¥ğ’¦â„’â„³â’©â’ªâ’«â’¬â„›ğ’®ğ’¯ğ’°â’±â’²â’³â’´â’µğ’¶â’·ğ’¸ğ’¹â„¯ğ’»â„Šğ’½ğ’¾ğ’¿ğ“€ğ“ğ“‚ğ“ƒâ„´ğ“…ğ“†ğ“‡ğ“ˆğ“‰ğ’–â“‹ğ“Œğ“ğ“ğ“0123456789"},
  {m:"ğ“ğ“‘ğ“’ğ““ğ“”ğ“•ğ“–ğ“—ğ“˜ğ“™ğ“šğ“›ğ“œğ“ğ“ğ“Ÿğ“ ğ“¡ğ“¢ğ“£ğ“¤ğ“¥ğ“¦ğ“§ğ“¨ğ“©ğ“ªğ“«ğ“¬ğ“­ğ“®ğ“¯ğ“°ğ“±ğ“²ğ“³ğ“´ğ“µğ“¶ğ“·ğ“¸ğ“¹ğ“ºğ“»ğ“¼ğ“½ğ“¾ğ“‹¼ğ”€ğ”ğ”‚ğ”ƒ0123456789"},
  {m:"ğ– ğ–¡ğ–¢ğ–£ğ–¤ğ–¥ğ–¦ğ–§ğ–¨ğ–©ğ–ªğ–«ğ–¬ğ–­ğ–®ğ–¯ğ–°ğ–±ğ–²ğ–³ğ–´â“‹ğ–‚ğ–ƒğ–„ğ–…ğ–ºğ–»ğ–¼ğ–½ğ–¾ğ–¿ğ—€ğ—ğ—‚ğ—ƒğ—„ğ—…ğ—†ğ—‡ğ—ˆğ—‰ğ—Šğ—‹ğ—Œğ—ğ—â“‹ğ—ğ—‘ğ—’ğ—“ğŸ¢ğŸ£ğŸ¤ğŸ¥ğŸ¦ğŸ§ğŸ¨ğŸ©ğŸªğŸ«"},
  {m:"ğ—”ğ—•ï¼£ğ——ï¼¥ğ—™ğ—šï¼¨ï¼©ï¼ªï¼«ï¼¬ï¼­ï¼®ï¼¯ï¼°ğ—¤ğ—¥ğ—¦ï¼´ğ—¨â“‹ğ—ªğ—«ï¼¹ğ—­ğ—®ğ—¯ğ—°ï½„ï½…ï½†ğ—´ğ—µï½‰ğ‘—ï½‹ï½Œï½ï½ï½ï½ğ—¾ï½’ï½“ï½”ï½•ğ¯ï½—ğ˜…ï½™ï½šğŸ¬ğŸ­ğŸ®ğŸ¯ğŸ°ğŸ±ğŸ²ğŸ³ğŸ´ğŸµ"},
  {m:"ğ˜ˆğ˜‰ğ˜Šğ˜‹ğ˜Œğ˜ğ˜ğ˜ğ˜ğ˜‘ğ˜’ğ˜“ğ˜”ğ˜•ğ˜–ğ˜—ğ˜˜ğ˜™ğ˜šğ˜›ğ˜œğ˜ğ˜ğ˜Ÿğ˜ ğ˜¡ğ˜¢ğ˜£ï½ƒï½„ï½…ï½†ï½‡ï½ˆï½‰ğ‘—ğ‘˜ï½Œï½ï½ï½ï½ğ˜²ğ˜³ğ˜´ğ˜µğ‘¢ğ‘£ğ‘¤ğ‘¥ï½™ï½š0123456789"},
  {m:"ğ˜¼ğ˜½ğ˜¾ğ˜¿ğ™€ğ™ğ™‚ğ™ƒï¼©ğ™…ğ™†ğ™‡ğ™ˆï¼®ï¼¯ï¼°ğ™Œğ™ğ™ï¼´ğ™ğ™‘ğ™’ğ™“ï¼¹ğ™•ğ™–ğ™—ğ™˜ï½„ï½…ï½†ğ™œğ™ğ™ğ™Ÿğ™ ğ™¡ğ™¢ï½ï½ğ™¥ğ™¦ğ™§ğ‘ ğ‘¡ğ™ªğ™«ğ™¬ğ™­ğ™®ğ™¯0123456789"},
  {m:"ğ™°ğ™±ï¼£ï¼¤ï¼¥ï¼¦ğ™¶ğ™·ğ™¸ğ™¹ğ™ºğ™»ï¼­ï¼®ï¼¯ï¼°ğš€ğšğš‚ï¼´ğš„â“‹ğš†ğš‡ï¼¹ğš‰ğšŠğš‹ğšŒğšğšğšå°Šï½ˆï½‰ğ‘—ï½‹ï½Œï½ï½ï½ï½ğššğš›ï½“ï½”ï½•ğ‘£ğš ğš¡ğš¢ğš£ğŸ¶ğŸ·ğŸ¸ğŸ¹ğŸºğŸ»ğŸ¼ğŸ½ğŸ¾ğŸ¿"},
  {m:"ğ”¸ğ”¹â„‚ğ”»ğ”¼ğ”½ğ”¾â„ğ•€ğ•ğ•‚ğ•ƒğ•„â„•ğ•†â„™â„šâ„ğ•Šğ•‹ğ•Œğ•ğ•ğ•ğ•â„¤ğ•’ğ•“ğ•”ğ••ğ•–ğ•—ğ•˜ğ•™ğŸ‡®ğŸ‡³ğ•›ğ•œğ•ğ•ğ‘›ğ• ğ©ğ•¢ğ•£ğ•¤ğ•¥ğ•¦ğ•§ğ•¨ğ•©ğ•ªğ•«ğŸ˜ğŸ™ğŸšğŸ›ğŸœğŸğŸğŸŸğŸ ğŸ¡"},
  {m:"ğ”„ğ”…â„­ğ”‡ğ”ˆğ”‰ğ”Šâ„Œâ„‘ğ”ğ”ğ”ğ”ğ”‘ğ”’ğ”“ğ””â„œğ”–ğ”—ğ”˜ğ”™ğ”šğ”›ğ”œâ„¨ğ”ğ”Ÿğ” ğ”¡ğ”¢ğ”£ğ”¤ğ”¥ğ”¦ğ”§ğ”¨ğ”©ğ”ªğ”«ğ”¬ğ”­ğ”®ğ”¯ğ”°Å§ğ”²ğ”³ğ”´ğ”µğ”¶ğ”·0123456789"},
  {m:"ğ•¬ğ•­ğ•®ğ•¯ğ•°ğ•±ğ•²ğ•³ğ•´ğ•µğ•¶ğ•·ğ•¸ğ•¹ğ•ºğ•»ğ•¼ğ•½ğ•¾ğ•¿ğ–€ğ–ğ–‚ğ–ƒğ–„ğ–…ğ–†ğ–‡ğ–ˆğ–‰ğ–Šğ–‹ğ–Œğ–ğ–ğ–ğ–ğ–‘ğ–’ğ–“ğ–”ğ–•ğ––ğ–—ğ–˜ğ–™ğ–šğ–›ğ–œğ–ğ–ğ–Ÿ0123456789"},
  {m:"â‚³à¸¿â‚µÄÉ†â‚£â‚²â±§Å‚Jâ‚­â± â‚¥â‚¦Ã˜â‚±Qâ±¤â‚´â‚®É„Vâ‚©Ó¾Éâ±«â‚³à¸¿â‚µÄÉ†â‚£â‚²â±§Å‚Jâ‚­â± â‚¥â‚¦Ã˜â‚±Qâ±¤â‚´â‚®É„Vâ‚©Ó¾Éâ±«0123456789"},
  {m:"ÈºÆ€Ã§ÄÉ‡fÇ¤Ä§É¨É‰êÅ‚mNÃ¸áµ½ê—ÉsÅ§áµ¾vwxyÆµÈºÆ€Ã§ÄÉ‡fÇ¤Ä§É¨É‰êÅ‚mNÃ¸áµ½ê—ÉsÅ§áµ¾vwxyÆµ0123456789"},
  {m:"Î±Ğ²câˆ‚Ñ”Æ’gĞ½Î¹× Ğºâ„“Ğ¼Ğ¸ÏƒÏqÑÑ•Ñ‚Ï…Î½Ï‰Ï‡ÑƒzÎ±Ğ²câˆ‚Ñ”Æ’gĞ½Î¹× Ğºâ„“Ğ¼Ğ¸ÏƒÏqÑÑ•Ñ‚Ï…Î½Ï‰Ï‡Ñƒz0123456789"},
  {m:"Î›Bá„ƒDÎ£FGÎ‰IJKLMĞŸÓ¨PQĞ¯Æ§Æ¬Ğ¦VĞ©XYZÎ›Bá„ƒDÎ£FGÎ‰IJKLMĞŸÓ¨PQĞ¯Æ§Æ¬Ğ¦VĞ©XYZ0123456789"},
  {m:"Ğ”Ğ‘CDÎFGHÅ‚JÒœLMĞ˜Ğ¤PÇªĞ¯SÎ“Ğ¦VĞ©XYZĞ´ÑŠcdÎ¾fgĞ½Î¹jÎºlĞ¼nÃ¸pqÑsÑ‚Ñ†vÏ‰xÑ‡z0123456789"},
  {m:"ï¾‘ä¹ƒcdä¹‡fGã‚“ï¾‰jã‚ºlmåˆ€oï½±qå°ºsï½²uâˆšwï¾’ï¾˜zï¾‘ä¹ƒcdä¹‡fGã‚“ï¾‰jã‚ºlmåˆ€oï½±qå°ºsï½²uâˆšwï¾’ï¾˜z0123456789"},
  {m:"[A][B][C][D][E][F][G][H][I][J][K][L][M][N][O][P][Q][R][S][T][U][V][W][X][Y][Z][a][b][c][d][e][f][g][h][i][j][k][l][m][n][o][p][q][r][s][t][u][v][w][x][y][z][0][1][2][3][4][5][6][7][8][9]"},
  {m:"{A}{B}{C}{D}{E}{F}{G}{H}{I}{J}{K}{L}{M}{N}{O}{P}{Q}{R}{S}{T}{U}{V}{W}{X}{Y}{Z}{a}{b}{c}{d}{e}{f}{g}{h}{i}{j}{k}{l}{m}{n}{o}{p}{q}{r}{s}{t}{u}{v}{w}{x}{y}{z}{0}{1}{2}{3}{4}{5}{6}{7}{8}{9}"},
  {m:"<A><B><C><D><E><F><G><H><I><J><K><L><M><N><O><P><Q><R><S><T><U><V><W><X><Y><Z><a><b><c><d><e><f><g><h><i><j><k><l><m><n><o><p><q><r><s><t><u><v><w><x><y><z><0><1><2><3><4><5><6><7><8><9>"},
  {m:"(A)(B)(C)(D)(E)(F)(G)(H)(I)(J)(K)(L)(M)(N)(O)(P)(Q)(R)(S)(T)(U)(V)(W)(X)(Y)(Z)(a)(b)(c)(d)(e)(f)(g)(h)(i)(j)(k)(l)(m)(n)(o)(p)(q)(r)(s)(t)(u)(v)(w)(x)(y)(z)(0)(1)(2)(3)(4)(5)(6)(7)(8)(9)"},
  {m:"â™¥Aâ™¥Bâ™¥Câ™¥Dâ™¥Eâ™¥Fâ™¥Gâ™¥Hâ™¥Iâ™¥Jâ™¥Kâ™¥Lâ™¥Mâ™¥Nâ™¥Oâ™¥Pâ™¥Qâ™¥Râ™¥Sâ™¥Tâ™¥Uâ™¥Vâ™¥Wâ™¥Xâ™¥Yâ™¥Zâ™¥aâ™¥bâ™¥câ™¥dâ™¥eâ™¥fâ™¥gâ™¥hâ™¥iâ™¥jâ™¥kâ™¥lâ™¥mâ™¥nâ™¥oâ™¥pâ™¥qâ™¥râ™¥sâ™¥tâ™¥uâ™¥vâ™¥wâ™¥xâ™¥yâ™¥zâ™¥0â™¥1â™¥2â™¥3â™¥4â™¥5â™¥6â™¥7â™¥8â™¥9"},
  {m:"â˜…Aâ˜…Bâ˜…Câ˜…Dâ˜…Eâ˜…Fâ˜…Gâ˜…Hâ˜…Iâ˜…Jâ˜…Kâ˜…Lâ˜…Mâ˜…Nâ˜…Oâ˜…Pâ˜…Qâ˜…Râ˜…Sâ˜…Tâ˜…Uâ˜…Vâ˜…Wâ˜…Xâ˜…Yâ˜…Zâ˜…aâ˜…bâ˜…câ˜…dâ˜…eâ˜…fâ˜…gâ˜…hâ˜…iâ˜…jâ˜…kâ˜…lâ˜…mâ˜…nâ™¥oâ™¥pâ™¥qâ™¥râ™¥sâ™¥tâ™¥uâ™¥vâ™¥wâ™¥xâ™¥yâ™¥zâ˜…0â˜…1â˜…2â˜…3â˜…4â˜…5â˜…6â˜…7â˜…8â˜…9"},
  {m:"Aâ‹†Bâ‹†Câ‹†Dâ‹†Eâ‹†Fâ‹†Gâ‹†Hâ‹†Iâ‹†Jâ‹†Kâ‹†Lâ‹†Mâ‹†Nâ‹†Oâ‹†Pâ‹†Qâ‹†Râ‹†Sâ‹†Tâ‹†Uâ‹†Vâ‹†Wâ‹†Xâ‹†Yâ‹†Zâ‹†aâ‹†bâ‹†câ‹†dâ‹†eâ‹†fâ‹†gâ‹†hâ‹†iâ‹†jâ‹†kâ‹†lâ‹†mâ‹†nâ‹†oâ‹†pâ‹†qâ‹†râ‹†sâ‹†tâ‹†uâ‹†vâ‹†wâ‹†xâ‹†yâ‹†zâ‹†0â‹†1â‹†2â‹†3â‹†4â‹†5â‹†6â‹†7â‹†8â‹†9"},
  {m:"A.B.C.D.E.F.G.H.I.J.K.L.M.N.O.P.Q.R.S.T.U.V.W.X.Y.Z.a.b.c.d.e.f.g.h.i.j.k.l.m.n.o.p.q.r.s.t.u.v.w.x.y.z.0.1.2.3.4.5.6.7.8.9"},
  {m:"AÌ²BÌ²CÌ²DÌ²EÌ²FÌ²GÌ²HÌ²IÌ²JÌ²KÌ²LÌ²MÌ²NÌ²OÌ²PÌ²QÌ²RÌ²SÌ²TÌ²UÌ²VÌ²WÌ²XÌ²YÌ²ZÌ²aÌ²bÌ²cÌ²dÌ²eÌ²fÌ²gÌ²hÌ²iÌ²jÌ²kÌ²lÌ²mÌ²nÌ²oÌ²pÌ²qÌ²rÌ²sÌ²tÌ²uÌ²vÌ²wÌ²xÌ²yÌ²zÌ²0Ì²1Ì²2Ì²3Ì²4Ì²5Ì²6Ì²7Ì²8Ì²9"},
  {m:"AÌ¶BÌ¶CÌ¶DÌ¶EÌ¶FÌ¶GÌ¶HÌ¶IÌ¶JÌ¶KÌ¶LÌ¶MÌ¶NÌ¶OÌ¶PÌ¶QÌ¶RÌ¶SÌ¶TÌ¶UÌ¶VÌ¶WÌ¶XÌ¶YÌ¶ZÌ¶aÌ¶bÌ¶cÌ¶dÌ¶eÌ¶fÌ¶gÌ¶hÌ¶iÌ¶jÌ¶kÌ¶lÌ¶mÌ¶nÌ¶oÌ¶pÌ¶qÌ¶rÌ¶sÌ¶tÌ¶uÌ¶vÌ¶wÌ¶xÌ¶yÌ¶zÌ¶0Ì¶1 eÌ¶2Ì¶3Ì¶4 eÌ¶5 eÌ¶6 eÌ¶7 eÌ¶8 eÌ¶9"}
];

function genFonts(){
  const val=document.getElementById('font-input').value, resBox=document.getElementById('font-results');
  resBox.innerHTML=""; if(!val) return;
  alphas.forEach(alph => {
    let txt = ""; const mapArr = Array.from(alph.m);
    for(let char of val){ let idx = chars.indexOf(char); txt += (idx !== -1 && mapArr[idx]) ? mapArr[idx] : char; }
    addF(txt, resBox);
  });
}
function addF(t,b){let d=document.createElement('div');d.className="font-item";d.innerText=t;d.onclick=()=>{navigator.clipboard.writeText(t);playShutter();};b.appendChild(d);}

// --- MASSIVE SYMBOLS LIST RESTORED ---
const symData = {
    "Hearts": ["â¤","â¥","â™¡","â™¥","â¦","â§","â£","ğŸ’","ğŸ’—","ğŸ’•","ğŸ’˜","ğŸ’","ğŸ’Ÿ","ğŸ’Œ","ğŸ’‹","Ö¶Ö¢Ö¸","áµ•Ìˆ","â£ï¸","-'â™¡'-","á¥«á­¡","ã€‚â™¡","Ì†Ìˆ","â™¡ï¸","á¢‰ğ­©","á¥«á­¡.","Ë—Ë‹Ë â™¡ ËËŠË—","Ëšâ‚ŠÂ· ÍŸÍŸÍÍâ³â¥","ğ–¨†â™¡ğ–¨†","Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€ï®©Ù¨Ù€â¤ï¸ï¸","â™¡ áª²áª²áª²","ğŸ–¤âƒğŸ¦‹","ğ€¶"],
    "Sparkles & Stars": ["âœ¨","â˜…","â˜†","âœ¡","âœ¦","âœ§","âœ©","âœª","âœ«","âœ¬","âœ­","âœ®","âœ¯","âœ°","â‚","â","â‘","âœ¢","âœ£","âœ¤","âœ¥","âœ±","âœ²","âœ³","âœ´","âœµ","âœ¶","âœ·","âœ¸","âœ¹","âœº","âœ»","âœ¼","âœ½","âœ¾","âœ¿","â€","â","â‚","âƒ","â„","â…","â†","â‡","âˆ","â‰","âŠ","â‹"],
    "Hanging Stars": ["*Ì£Ì¥â˜†Â·Í™Ì¥","â€§Í™âºËš*ï½¥à¼“â˜¾","â˜½à¼“ï½¥*Ëšâºâ€§Í™","â˜…*","*â˜…","â˜†.","Â¸.Â·","Â·.Â¸","*","**","***"],
    "Arrows": ["â†","â†’","â†“","â†‘","â†–","â†—","â†˜","â†™","â†”","â†•","â†š","â†›","â†œ","â†","â†","â†Ÿ","â† ","â†¡","â†¢","â†£","â†¤","â†¥","â†¦","â†§","â†¨","â†©","â†ª","â†«","â†¬","â†­","â†®","â†¯","â†°","â†±","â†²","â†³","â†´","â†¶","â†·","â†¸","â†¹","â†º","â†»","â†¼","â†½","â†¾","â†¿","â‡€","â‡","â‡‚","â‡ƒ","â‡„","â‡…","â‡†","â‡‡","â‡ˆ","â‡‰","â‡Š","â‡‹","â‡Œ","â‡","â‡","â‡","â‡•","â‡–","â‡—","â‡˜","â‡™","â‡š","â‡›","â‡œ","â‡","â‡","â‡Ÿ","â‡ ","â‡¡","â‡¢","â‡£","â‡¤","â‡¥","â‡¦","â‡§","â‡¨","â‡©","â‡ª","âŒ…","âŒ†","âŒ¤","â","â–¶","â˜‡","â˜ˆ","â˜Š","â˜‹","â˜Œ","â˜","â”","â˜","â™","âš","â›","âœ","â","â","âŸ","â ","â¡","â¢","â£","â¤","â¥","â¦","â§","â¨","â©","âª","â«","â¬","â­","â®","â¯","â±","â²","â³","â´","âµ","â¶","â·","â¸","â¹","âº","â»","â¼","â½","â¾","â¤´","â¤µ","â†µ","â‡°","â‡«","â‡¬","â‡­","â‡³","â‡®","â‡¯","â‡±","â‡²","â‡´","â‡µ","â‡·","â‡¸","â‡¹","â‡º","â‡‘","â‡“","â¤ª","â¤¨","â¤§","â¤©","â¤­","â¤®","â¤¯","â¤°","â¤±","â¤²","â¤«","â¤¬","â‡½","â‡¾","â‡¿","â¬³","âŸ¿","â¤‰","â¤ˆ","â‡»","â‡¼","â¬´","â¤€","â¬µ","â¤","â¬¹","â¤”","â¬º","â¤•","â¬¶","â¤…","â¬»","â¤–","â¬·","â¤","â¬¼","â¤—","â¬½","â¤˜","â¤","â¤","â¤Ÿ","â¤ ","â¤¡","â¤¢","â¤£","â¤¤","â¤¥","â¤¦","â¬","â¬","â¬‘","â¬","â¤¶","â¤·","â¥‚","â¥ƒ","â¥„","â­€","â¥±","â¥¶","â¥¸","â­‚","â­ˆ","â­Š","â¥µ","â­","â­‡","â­‰","â¥²","â­‹","â­Œ","â¥³","â¥´","â¥†","â¥…","â¥¹","â¥»","â¬°","â¥ˆ","â¬¾","â¥‡","â¬²","âŸ´","â¥·","â­ƒ","â¥º","â­„","â¥‰","â¥°","â¬¿","â¤³","â¥Š","â¥‹","â¥Œ","â¥","â¥","â¥","â¥","â¥‘","â¥’","â¥“","â¥”","â¥•","â¥–","â¥—","â¥¤","â¥£","â¥¥","â¥¦","â¥¨","â¥§","â¥©","â¥®","â¥¯","â¥ª","â¥¬","â¥«","â¥­","â¤Œ","â¤","â¤","â¤","â¬¸","â¤‘","âŸµ","âŸ¶","âŸ·","â¬…","â¬†","â¬‡","â¬ˆ","â¬‰","â¬Š","â¬‹","â¬Œ","â¬","â¬„","â¬€","â¬","â¬‚","â¬ƒ","âŸ»","âŸ¼","â¤’","â¤“","â¤™","â¤š","â¤›","â¤œ","â¥¼","â¥½","â¥¾","â¥¿","â¤¼","â¤½","â¤¾","â¤¿","â¤¸","â¤º","â¤¹","â¤»","â¥€","â¥","âŸ²","âŸ³","â¬±","âŸ¸","âŸ¹","âŸº","â¤‚","â¤ƒ","â¤„","â¤†","â¤‡","â¤Š","â¤‹","â‡","â‡’","â‡”","â‡¶","â­…","â­†","âŸ°","âŸ±"],
    "Astrological": ["â˜‰","âŠ•","â™","â˜½","â˜¿","â™€ï¸","â™‚ï¸","â™ƒ","â™„","â™…","â›¢","â™†","â¯“","â™‡","â¯”","â¯•","â¯–","ğŸŒ‘ï¸","ğŸŒ’ï¸","ğŸŒ“ï¸","ğŸŒ”ï¸","ğŸŒ•ï¸","ğŸŒ–ï¸","ğŸŒ—ï¸","ğŸŒ˜ï¸","âš³","âš´","âšµ","âš¶","â¯™","âš•","â¯š","âš·","â˜„ï¸","â¯°","â¯˜","â¯—","âŠ—","âš¸","â¯","â˜Š","â˜‹","â˜¿"],
    "Bracket": ["ï¼ˆ","ï¼‰","[","]","ã€","ã€‘","ã€","ã€","ã€Œ","ã€","ã€Š","ã€‹","ã€ˆ","ã€‰","ã€”","ã€•","ï¸¹","ï¸º","ï¸·","ï¸¸","ï¸µ","ï¸¶","ï¸»","ï¸¼","ï¸½","ï¸¾","ï¸¿","ï¹€","ï¹","ï¹‚","ï¹ƒ","ï¹„","ã€š","ã€›","ã€˜","ã€™","ã€–","ã€—","ï½›","ï½","ï¼œ","ï¼","ï¹¤","ï¹¥","ï¹™","ï¹š","ï¹","ï¹","ï¹›","ï¹œ","âŒ©","âŒª","Â«","Â»","â€¹","â€º"],
    "Check Marks": ["âœ“","âœ”","âœ”ï¸","âœ…","âœ˜","âœ—","â˜“","âˆ¨","âˆš","â˜","â˜’","â˜‘","ã¤¤","ã€¥","âœ‡","ğŸ’¯","âŒ","â"],
    "Cross": ["âµœ","ğ¤•","ğ¤²","ğ“¶","â€ ","âœ","âœ","âœŸ","â˜¨","â˜¦","â™±","â˜¥","â™°","â€¡","âŠ¹","â˜©","âœ™"],
    "Email": ["âœ‰ï¸","ğŸ“¨","ğŸ“§","ğŸ’Œ","ğŸ“©","ğŸ“¥","ğŸ“¤","ğŸ“«","ğŸ“ª","ğŸ“¬","ğŸ“­","ğŸ“®","ğŸ“¦"],
    "Flowers": ["â","âƒ","â€","âœ¿","ğŸŒº","ğŸŒ¼","ğŸ€","ğŸŒ¸","ğŸŒ»","ğŸ’®","âœ¿","âš˜","âœ¾","âšœ","ğŸ’","ğŸŒ·","ğŸŒ¹","â˜˜","âœ¥","âœ¤","âœ£","âˆ","â‰","âŠ","â‡","â‹","âœ½","âœ»","âœ¼","ê•¤","ê•¥","ğŸµï¸","ê§","ê§‚","â•","ê™®","áª¥","Ö","ğŸ¥€","ğ“‡‹","ğ“™","ğ“†¹","ğ“‡‘","ğ“‹‡","ğ“‡—","ğ“‡š","ğ“†¸","ğ“‡Š","ğ“‡¬","ğ“†±","ğ“‡£","ğ“†¼","ğ“‡•","ğ“‡›","ğ“‡Ÿ","ğ“†­","ğ“†°","ğ“‹"],
    "Lines": ["â”ƒ","â•½","â•¿","â•","â•‘","â•","â”‡","ï¸±","â”Š","ï¸³","â”‹","â”†","â•µ","ã€¡","â•¹","â•»","â•·","ã€¢","ã££","â˜´","â˜µ","â˜¶","â˜·","â˜°","â˜±","â˜²","â˜³","ï¹‰","ï¹","ï¹Š","ï¹","â‰¡","â•","â”","â”€","â”„","â”ˆ","â•Œ","â•","â”…","â”‰","â•´","â•¶","â•¸","â•º","â•¼","â•¾","ï¸²","â‘†","â‘‡","â‘ˆ","â‘‰","â‘Š","â‘„","â‘€","ï¸´","ï¹","ï¹Œ","ï¹‹","â•²","â•±","ï¸¶","ï¸µ","ã€µ","ã€´","ã€†","`","áŸ","â€","âƒ","â¯"],
    "Music": ["â™©","â™ª","â™¬","â™«","â™­","â™®","â™¯","Â°","Ã¸","Ø‚","â‰ ","â‰­","ğŸ¶","ğŸµ","ğŸ¼","ğŸ¤","ğŸ§","ğŸ“»","ğŸ¸","ğŸ·","ğŸ¹","ğŸ»","ğŸº","ğŸ“£","ğŸ“¢","ğŸ”Š"],
    "Peace": ["âœŒ","âœ™","âœš","âœ›","âœœ","âœ","âœ","âœŸ","â€ ","âŠ¹","â€¡","â˜®","â˜¸","â˜¨","â˜©","â˜«","â˜¬","â˜­","â˜¯","â˜½","â˜¾","â™","âš”","â–","â†","â™…","âœ ","âœ¡","âœ¢","å","å","ã€·","â˜ ","â˜¢","â˜£","â˜¦","âš–"],
    "Rectangle": ["â–","â–‚","â–ƒ","â–„","â–€","â–…","â–†","â–‡","â–‰","â–Š","â–‹","â–ˆ","â–Œ","â–","â–","â–","â–","â–•","â˜","â™","âš","â–”","â–¬","â–­","â–®","â–¯","â–‘","â–’","â–“"],
    "Time & Calendar": ["â°","ğŸ•","ğŸ•‘","ğŸ•’","ğŸ•“","ğŸ•”","ğŸ••","ğŸ•Ÿ","ğŸ• ","ğŸ•¡","ğŸ•¢","ğŸ•£","ğŸ•¤","ğŸ•¥","ğŸ•¦","ğŸ•–","ğŸ•—","ğŸ•˜","ğŸ•™","ğŸ•š","ğŸ•›","ğŸ•œ","ğŸ•","ğŸ•","â³","â§–","â§—","â‹ˆ","â§‘","â§’","â§“","â§”","â§•","âŒ›","ğŸ“…","ğŸ“†","ğŸ—“","âŒš","â±","ğ„"],
    "Degree & Weather": ["â›…","â˜€","â˜","ğŸŒ€","ğŸŒˆ","â˜‚","ğŸŒ‚","â˜”","â›„","ğŸ”¥","ğŸ’§","ğŸ’¦","ğŸŒŠ","ğŸŒ‘","ğŸŒ“","ğŸŒ”","ğŸŒ•","ğŸŒ™","ğŸŒ›","ğŸŒŒ","Â°","â„ƒ","â„‰","ÏŸ","âš¡","â˜ƒ","â˜‰","â˜¼","â˜½","â˜¾","â™","â™¨","â„","â…","â†","â˜‡","â˜ˆ","â˜„"],
    "Zodiac": ["â™ˆï¸","â™‰ï¸","â™Šï¸","â™‹ï¸","â™Œï¸","â™ï¸","â™ï¸","â™ï¸","â™ï¸","â™‘ï¸","â™’ï¸","â™“ï¸"],
    "Dice": ["âš€","âš","âš‚","âšƒ","âš„","âš…"],
    "Dominos": ["ğŸ€°","ğŸ€±","ğŸ€²","ğŸ€³","ğŸ€´","ğŸ€µ","ğŸ€¶","ğŸ€·","ğŸ€¸","ğŸ€¹","ğŸ€º","ğŸ€»","ğŸ€¼","ğŸ€½","ğŸ€¾","ğŸ€¿","ğŸ€","ğŸ","ğŸ‚","ğŸƒ","ğŸ„","ğŸ…","ğŸ†","ğŸ‡","ğŸˆ","ğŸ‰","ğŸŠ","ğŸ‹","ğŸŒ","ğŸ","ğŸ","ğŸ","ğŸ","ğŸ‘","ğŸ’","ğŸ“","ğŸ”","ğŸ•","ğŸ–","ğŸ—","ğŸ˜","ğŸ™","ğŸš","ğŸ›","ğŸœ","ğŸ","ğŸ","ğŸŸ","ğŸ ","ğŸ¡","ğŸ¢","ğŸ£","ğŸ¤","ğŸ¥","ğŸ¦","ğŸ§","ğŸ¨","ğŸ©","ğŸª","ğŸ«","ğŸ¬","ğŸ­","ğŸ®","ğŸ¯","ğŸ°","ğŸ±","ğŸ²","ğŸ³"],
    "Chess & Cards": ["â™”","â™•","â™–","â™—","â™˜","â™™","â™š","â™›","â™œ","â™","â™","â™Ÿ","â™ ","â™¡","â™¢","â™£","â™¤","â™¥","â™¦","â™§"]
};

function renderSymbols(){
    const box = document.getElementById('sym-container'); box.innerHTML = "";
    for (const [category, symbols] of Object.entries(symData)) {
        let title = document.createElement('div'); title.className = "cat-title"; title.innerText = category; box.appendChild(title);
        let grid = document.createElement('div'); grid.className = "sym-grid";
        symbols.forEach(s => {
            let btn = document.createElement('div'); btn.className = "sym-btn"; btn.innerText = s;
            btn.onclick = () => { document.getElementById('sym-box').value += s; playShutter(); };
            grid.appendChild(btn);
        });
        box.appendChild(grid);
    }
}
renderSymbols();

const workerBlob = new Blob([`importScripts('https://cdnjs.cloudflare.com/ajax/libs/gif.js/0.2.0/gif.worker.js');`], { type: 'application/javascript' });
const workerUrl = URL.createObjectURL(workerBlob);

const gfInput=document.getElementById('gfInput'), upBtn=document.getElementById('upBtn'), v=document.getElementById('v'), o=document.getElementById('o'), vp=document.getElementById('vp');
const speed=document.getElementById('speed'), sv=document.getElementById('sv'), zoom=document.getElementById('zoom'), zv=document.getElementById('zv'), go=document.getElementById('go'), msg=document.getElementById('msg');
const dlBox=document.getElementById('dlBox'), dl=document.getElementById('dl'), resetBox=document.getElementById('resetBox');

let gifX = 0, gifY = 0, vidW = 0, vidH = 0; 

function resetGifProject() {
  playClick(); v.src=''; o.style.display='none'; v.style.display='none';
  dlBox.style.display='none'; resetBox.style.display='none'; go.style.display='block'; go.disabled=true; 
  upBtn.disabled=false; zoom.disabled=false; speed.disabled=false; msg.classList.remove('active');
  zoom.value=100; zv.innerText="100%"; gfInput.value = ''; gifX = 0; gifY = 0; v.style.transform = `translate(-50%, -50%) scale(1)`;
}

gfInput.onchange=(e)=>{ 
    const file=e.target.files[0]; if(!file)return;
    v.style.display='block'; o.style.display='none'; dlBox.style.display='none'; resetBox.style.display='none';
    v.src=URL.createObjectURL(file); v.playbackRate=parseFloat(speed.value); go.disabled = false;
    v.onloadedmetadata=()=>{ vidW = v.videoWidth; vidH = v.videoHeight; setCover(); v.play(); };
};

function setCover() {
    const b=320; const a=vidW/vidH; if(a>1){ v.style.height=b+'px'; v.style.width=(b*a)+'px'; } else { v.style.width=b+'px'; v.style.height=(b/a)+'px'; } updateGif();
}

function updateGif() {
    const z = parseInt(zoom.value)/100; v.style.transform = `translate(calc(-50% + ${gifX}px), calc(-50% + ${gifY}px)) scale(${z})`;
}

zoom.oninput = function() { zv.innerText = this.value + '%'; updateGif(); };
speed.oninput=()=>{ sv.innerText=speed.value+'x'; if(v.src)v.playbackRate=parseFloat(speed.value); };

let isGifDrag = false, sx, sy, ix, iy;
vp.addEventListener('touchstart', e => { if(!v.src) return; isGifDrag=true; sx=e.touches[0].clientX; sy=e.touches[0].clientY; ix=gifX; iy=gifY; }, {passive:false});
vp.addEventListener('touchmove', e => { if(!isGifDrag) return; e.preventDefault(); gifX=ix+(e.touches[0].clientX-sx); gifY=iy+(e.touches[0].clientY-sy); updateGif(); }, {passive:false});
vp.addEventListener('mousedown', e => { if(!v.src) return; isGifDrag=true; sx=e.clientX; sy=e.clientY; ix=gifX; iy=gifY; });
window.addEventListener('mousemove', e => { if(!isGifDrag) return; gifX=ix+(e.clientX-sx); gifY=iy+(e.clientY-sy); updateGif(); });
window.addEventListener('mouseup', () => isGifDrag=false);
window.addEventListener('touchend', () => isGifDrag=false);

// --- âš¡ TURBO GIF ENGINE (HD NO-STRETCH) ---
go.onclick=()=>{
    if(!v.src)return; playClick(); go.disabled=true; msg.innerText="Processing (20s)..."; msg.classList.add('active');
    // Best Quality ever: quality: 1, workers: 20, dither: false
    const gif=new GIF({workers:20, quality:1, width:320, height:320, workerScript:workerUrl, dither:false});
    const canvas=document.createElement('canvas'); canvas.width=320; canvas.height=320; const ctx=canvas.getContext('2d');
    const fps=12, dur=v.duration, capV=document.createElement('video'); capV.src=v.src;
    capV.onloadeddata=()=>{
        let ct=0; const z=parseInt(zoom.value)/100, a=capV.videoWidth/capV.videoHeight;
        let dW, dH; if(a>1){ dH=320; dW=320*a; } else { dW=320; dH=320/a; } dW*=z; dH*=z;
        const dx=(320-dW)/2 + gifX, dy=(320-dH)/2 + gifY;
        const capture=()=>{ if(ct>=dur){ msg.innerText="Encoding HD..."; gif.render(); return; } capV.currentTime=ct; };
        capV.onseeked=()=>{ ctx.fillStyle='#000'; ctx.fillRect(0,0,320,320); ctx.drawImage(capV,dx,dy,dW,dH); gif.addFrame(ctx,{copy:true, delay:1000/fps}); ct+=(1/fps); setTimeout(capture, 1); };
        capture();
    };
    gif.on('finished', blob=>{ const u=URL.createObjectURL(blob); v.style.display='none'; o.src=u; o.style.display='block'; dl.href=u; dl.download=`arcade_${Date.now()}.gif`; dlBox.style.display='inline-block'; resetBox.style.display='inline-block'; msg.classList.remove('active'); go.style.display='none'; });
};

// --- AUDIO & CORE ---
function initAudio(){ if(!audioStarted){ audioCtx.resume().then(()=>{ audioStarted=true; if(player&&musicOn){ player.unMute(); player.playVideo(); }});}}
function onYouTubeIframeAPIReady(){ player=new YT.Player('yt-player',{height:'0',width:'0',videoId:'jfKfPfyJRdk',playerVars:{'autoplay':1,'loop':1,'playlist':'jfKfPfyJRdk','mute':0},events:{'onReady':e=>{e.target.setVolume(25);}}});}
function changeMusic(id){ if(player)player.loadVideoById(id); playShutter(); }
function toggleMusic(){ initAudio(); playClick(); musicOn=!musicOn; if(musicOn){ player.playVideo(); mStat.innerText="ON"; mStat.style.color="#ff0000"; }else{ player.pauseVideo(); mStat.innerText="OFF"; mStat.style.color="#888"; }}
function playClick(){ if(audioCtx.state!=='running')audioCtx.resume(); const o=audioCtx.createOscillator(), g=audioCtx.createGain(); o.connect(g); g.connect(audioCtx.destination); o.type='sine'; o.frequency.setValueAtTime(800, audioCtx.currentTime); g.gain.setValueAtTime(0.02, audioCtx.currentTime); o.start(); o.stop(audioCtx.currentTime+0.1); }
function playShutter(){ if(audioCtx.state!=='running')audioCtx.resume(); const o=audioCtx.createOscillator(), g=audioCtx.createGain(); o.type='square'; o.frequency.setValueAtTime(150, audioCtx.currentTime); g.gain.setValueAtTime(0.02, audioCtx.currentTime); o.connect(g); g.connect(audioCtx.destination); o.start(); o.stop(audioCtx.currentTime+0.1); }

// --- ğŸ–¼ï¸ FRAME ENGINE ---
function d(){ 
  x.clearRect(0,0,800,800); 
  if(i.src){ let w=i.width*cfg.s, h=i.height*cfg.s, diam=cfg.m*2; let rX=(w-diam)/2, rY=(h-diam)/2; cfg.x=rX>0?Math.max(400-rX,Math.min(400+rX,cfg.x)):400; cfg.y=rY>0?Math.max(400-rY,Math.min(400+rY,cfg.y)):400; }
  x.save(); x.beginPath(); x.arc(400,400,cfg.m,0,Math.PI*2); x.clip(); 
  if(i.src){ x.save(); x.translate(cfg.x,cfg.y); x.rotate(cfg.r*Math.PI/180); x.drawImage(i,-i.width*cfg.s/2,-i.height*cfg.s/2,i.width*cfg.s,i.height*cfg.s); x.restore(); } 
  x.restore(); if(f.src) x.drawImage(f,0,0,800,800); 
}

function handleFile(e){ 
  let r=new FileReader(); r.onload=v=>{ 
    let n=new Image(); n.onload=()=>{ i=n; let minS=Math.max(800/i.width,800/i.height); cfg.s=minS; cfg.x=400; cfg.y=400; zSl.min=minS; zSl.value=minS; updS(zSl); d(); playClick(); document.getElementById('save').disabled=false; }; 
    n.src=v.target.result; 
  }; r.readAsDataURL(e.target.files[0]); 
}

function handleFrame(e){ let r=new FileReader(); r.onload=v=>{ let n=new Image(); n.onload=()=>{f=n; d(); playClick();}; n.src=v.target.result; }; r.readAsDataURL(e.target.files[0]); }
function updateZ(v){ cfg.s=parseFloat(v); zVal.innerText=Math.round((v/zSl.min)*100)+"%"; d(); }
function updateR(v){ cfg.r=parseInt(v); rVal.innerText=v+"Â°"; d(); }
function updateM(v){ cfg.m=parseInt(v); mVal.innerText=v+"px"; d(); }
function centerSubject(){ cfg.x=400; cfg.y=400; cfg.r=0; rSl.value=0; d(); playClick(); }
function resetProject(){ i=new Image(); f=new Image(); cfg={s:1,m:375,x:400,y:400,r:0}; zSl.value=1; rSl.value=0; mSl.value=375; updS(zSl); updS(rSl); updS(mSl); d(); playClick(); document.getElementById('save').disabled=true; }
function downloadPic(){ if(!i.src) return; d(); let a=document.createElement('a'); a.download=`Arcade_${Date.now()}.png`; a.href=c.toDataURL(); a.click(); playClick(); }
function updS(el){ if(el && !el.parentElement.classList.contains('ui-gif')) el.style.setProperty('--v', ((el.value-el.min)/(el.max-el.min)*100)+'%'); }
document.querySelectorAll('input[type=range]').forEach(el => { el.addEventListener('input', () => updS(el)); updS(el); });

let isP=false, tSt={x:0,y:0}, tAng=0, inR=0;
c.onmousedown=e=>{isP=true; tSt={x:e.offsetX,y:e.offsetY};}
c.onmousemove=e=>{ if(!isP)return; let sc=800/c.offsetWidth; cfg.x+=(e.offsetX-tSt.x)*sc; cfg.y+=(e.offsetY-tSt.y)*sc; tSt={x:e.offsetX,y:e.offsetY}; d(); }
window.onmouseup=()=>{isP=false;}
c.ontouchstart=e=>{ e.preventDefault(); if(e.touches.length===1){ isP=true; tSt={x:e.touches[0].clientX,y:e.touches[0].clientY}; } else if(e.touches.length===2){ isP=false; tAng=Math.atan2(e.touches[1].clientY-e.touches[0].clientY,e.touches[1].clientX-e.touches[0].clientX); inR=cfg.r; } }
c.ontouchmove=e=>{ e.preventDefault(); if(e.touches.length===1 && isP){ let sc=800/c.offsetWidth; cfg.x+=(e.touches[0].clientX-tSt.x)*sc; cfg.y+=(e.touches[0].clientY-tSt.y)*sc; tSt={x:e.touches[0].clientX,y:e.touches[0].clientY}; d(); } else if(e.touches.length===2){ let curA=Math.atan2(e.touches[1].clientY-e.touches[0].clientY,e.touches[1].clientX-e.touches[0].clientX); cfg.r=inR+(curA-tAng)*(180/Math.PI); rSl.value=(cfg.r%360+360)%360; rVal.innerText=Math.round(cfg.r)+"Â°"; d(); } }
</script>
</body>
</html>
